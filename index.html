<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="file/css/login.css">
	<title>登录</title>
</head>
<body>
	<div class="App">
		<div class="nav"></div>
		<div class="loginbg">
			<div class="login">
				<form action="">
					<p class="title">Hello👋</p>
					<input type="number" name="userName" id="account" value="" placeholder="请输入账号">
					<input type="password" name="password" id="password" value="" placeholder="请输入密码">
					<input type="button" name="login" id="loginButt" value="登录">
					<p id="errorTxt"></p>
				</form>
			</div>
		</div>
	</div>
	<script src="file/js/jquery-3.7.0.js"></script>
	<script>

		
		let account;
		let password;
		$("#loginButt").click(function(){
			account = document.getElementById("account").value;
			password = document.getElementById("password").value;
			if(account == "" || password == ""){
				document.getElementById("errorTxt").innerHTML = "请输入账号或密码";
			}else{
				document.getElementById("errorTxt").innerHTML = "";
				data();
			}
		})
		
		function data(){
			$.get("file/data/data.json",{},function(data){
				for(let i=0; i < data.length; i++){
					let user = data[i];
					if(account == user.userAccount && password == user.userPassword){
						document.getElementById("errorTxt").innerHTML = "";
						window.location.href="home.html";
						break;
					}else{
						document.getElementById("errorTxt").innerHTML = "账号或密码错误";
					}
				}
            });
		}
	</script>
</body>
</html>